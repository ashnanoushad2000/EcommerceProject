<div class="checkout-wrapper">
    <div class="checkout-container">
  
      <!-- Left: Shipping + Payment -->
      <div class="checkout-form">
        <form (ngSubmit)="placeOrder()" #checkoutForm="ngForm">
  
          <!-- Shipping Info -->
          <div class="section">
            <h2>Shipping Information</h2>
            <div class="form-group">
              <label>Email Address</label>
              <input type="email" [(ngModel)]="form.email" name="email" required />
            </div>
  
            <div class="row">
              <div class="col">
                <label>First Name</label>
                <input type="text" [(ngModel)]="form.firstName" name="firstName" required />
              </div>
              <div class="col">
                <label>Last Name</label>
                <input type="text" [(ngModel)]="form.lastName" name="lastName" required />
              </div>
            </div>
  
            <label>Street Address</label>
            <input type="text" [(ngModel)]="form.address" name="address" required />
  
            <label>Apartment, Suite, etc. (optional)</label>
            <input type="text" [(ngModel)]="form.apartment" name="apartment" />
  
            <div class="row">
              <div class="col">
                <label>City</label>
                <input type="text" [(ngModel)]="form.city" name="city" required />
              </div>
              <div class="col">
                <label>State</label>
                <select [(ngModel)]="form.state" name="state" required>
                  <option value="">Select State</option>
                  <option value="CA">Sheffield</option>
                  <option value="NY">Manchester</option>
                  <option value="TX">London</option>
                  <option value="FL">liverpool</option>
                </select>
              </div>
              <div class="col">
                <label>ZIP Code</label>
                <input type="text" [(ngModel)]="form.zip" name="zip" required />
              </div>
            </div>
  
            <label>Phone Number</label>
            <input type="tel" [(ngModel)]="form.phone" name="phone" required />
          </div>
  
          <!-- Payment Info -->
          <div class="section">
            <h2>Payment Information</h2>
            <div class="payment-methods">
              <button type="button" [class.active]="selectedPayment === 'Credit Card'" (click)="setPaymentMethod('Credit Card')">Credit Card</button>
              <button type="button" [class.active]="selectedPayment === 'PayPal'" (click)="setPaymentMethod('PayPal')">PayPal</button>
              <button type="button" [class.active]="selectedPayment === 'Apple Pay'" (click)="setPaymentMethod('Apple Pay')">Apple Pay</button>
            </div>
  
            <div *ngIf="selectedPayment === 'Credit Card'">
              <label>Name on Card</label>
              <input type="text" [(ngModel)]="card.name" name="cardName" required />
  
              <label>Card Number</label>
              <input type="text" [(ngModel)]="card.number" name="cardNumber" placeholder="1234 5678 9012 3456" required />
  
              <div class="row">
                <div class="col">
                  <label>Expiration Date</label>
                  <input type="text" [(ngModel)]="card.expiry" name="expiry" placeholder="MMYY" required />
                </div>
                <div class="col">
                  <label>Security Code (CVV)</label>
                  <input type="text" [(ngModel)]="card.cvv" name="cvv" required />
                </div>
              </div>
            </div>
  
          </div>
  
          <!-- Order Summary -->
          <div class="section order-summary">
            <h2>Order Summary</h2>
            <div class="items" *ngFor="let item of cartItems">
              <div class="item">
                <div class="item-image">
                  <img [src]="item.imageUrl || 'assets/placeholder.png'" alt="{{ item.name }}" />
                </div>
                <div class="item-details">
                  <div class="item-name">{{ item.name }}</div>
                  <div class="item-variant">Qty: {{ item.quantity }}</div>
                </div>
                <div class="item-price">Â£{{ item.price.toFixed(2) }}</div>
              </div>
            </div>
  
            <div class="summary">
              <div class="summary-row">
                <span>Subtotal</span>
                <span>Â£{{ subtotal.toFixed(2) }}</span>
              </div>
              <div class="summary-row">
                <span>Shipping</span>
                <span>Â£{{ shipping.toFixed(2) }}</span>
              </div>
              <div class="summary-row">
                <span>Tax</span>
                <span>Â£{{ tax.toFixed(2) }}</span>
              </div>
              <div class="summary-row total">
                <span>Total</span>
                <span>Â£{{ total.toFixed(2) }}</span>
              </div>
  
              <div class="form-group full-width">
                <button type="submit" class="btn-checkout">Complete Order</button>
              </div>
  
              <div class="secure-note">
                ðŸ”’ Secure checkout. We accept all major cards.
              </div>
            </div>
          </div>
        </form>
      </div>
  
    </div>
  </div>
  